<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			*{margin: 0;padding: 0;}
			html,body,.cpd{
				margin: 0; padding: 0; width: 100%; height:100%;
			}
			.nav{height:8%;overflow: hidden; background: #1BAEBD;}
			.nav li{float:left;list-style: none; background: #555555;padding:5px; border-radius: 5px; position:relative;top:50%;transform:translateY(-50%);margin-left:10px;cursor:pointer;}
			.cpd{height:92%;}
		</style>
	</head>
	<body>
		<ul class="nav" id="nav">
			
		</ul>
		<div id="cpd" class="cpd"></div>
	</body>
</html>
<script src="./js/CPD.js" type="text/javascript" charset="utf-8"></script>
<script language="javascript" type="text/javascript">   

var books = [
			{name:'test',link:'./data/test.json'},
			{name:'vue',link:'./data/vue.json'},
			];

function ajax(url,cb){
	var oAjax = XMLHttpRequest?new XMLHttpRequest():new ActiveXObject('Microsoft.XMLHTTP');
	oAjax.open('GET',url,true);
	oAjax.send();
	oAjax.onreadystatechange = function(){
		if(oAjax.readyState == 4){
			if(oAjax.status>=200&&oAjax.status<300||oAjax.status==304){
				cb&&cb(oAjax.responseText);
			}
		}
	};
}
var oNav = document.getElementById('nav');
for(var i = 0;i<books.length;i++){
	var oLi = document.createElement('li');
	oNav.appendChild(oLi);
	oLi.innerHTML = books[i]['name'];
	oLi.dataurl = books[i]['link'];
	(function(index){
		oLi.onclick = function(){
			ajax(books[index]['link'],function(result){
				new CPD('cpd',eval(result),{title:books[index]['name']});
			});
		}
	})(i);
}

</script>
