<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			.box{overflow: hidden; width:1230px;}
			textarea{ width:200px; margin: 5px; height: 600px; float: left;}
			.con{float:left; width:1000px; height: 800px; margin: 5px;}
			.btn{ width:990px; height: 20px; display: block; margin: 5px auto;}
			.result{ margin:5px auto; height: 20px; width:990px; border: 1px solid red; background: #ddd; color: red; }
			.circles{overflow: hidden; width:990px; margin: 5px auto; height: 540px; border: 1px solid #008200; color:#ccc; position:relative;}
			.circle{border:1px solid #0000FF; border-radius: 50%; position:absolute;}
			.squire{ border:1px solid #ccc; position:absolute;}
		</style>
	</head>
	<body>
		<div class="box">
			<textarea id="text">{x:839,y:219,r:40};{x:551,y:178,r:40}</textarea>
			<div class="con">
				<div><input type="button" value="开始绘图和计算" id="btn" class="btn"/></div>
				<div class="result" id="result"></div>
				<div class="circles" id="circles">画布高度990*540</div>
			</div>
		</div>
	</body>
</html>
<script src="required.js" type="text/javascript" charset="utf-8"></script>
<script type="text/javascript">
	
requirejs([
	'dist/circle',
	'circleAreaAnd'
],function(
	circle,
	circleAreaAnd
){
	var oText = document.getElementById('text');
	var oResult= document.getElementById('result');
	var oBtn = document.getElementById('btn');
	var oCircles = document.getElementById('circles');
	
	/*随机生成圆圈的数据 990*540之内
	var num = 10;
	var mR  = 10;
	function random(start,end){
		return start + parseInt((end - start)*Math.random());
	}
	for(var i=0;i<num;i++){
		if(oText.value != '')oText.value += ';';
		var x = random(mR,990-mR);
		var y = random(mR,540-mR);
		var maxR = Math.min(x,990-x,y,540-y);
		var r = random(mR,maxR);
		oText.value += '{x:'+x+',y:'+y+',r:'+r+'}';
	}
	*/
	/*
	//二环的圆
	var str = '116.428162 39.903671|116.437904 39.892299|116.428157 39.903671|116.423526 39.899364|116.41549 39.901112|116.4235 39.8994|116.4155 39.9011|116.4282 39.9037|116.4379 39.8923|116.428715 39.914295|116.428046 39.929851|116.430045 39.903054|116.413118 39.869694|116.427569 39.942348|116.361863 39.946222|116.349917 39.9244|116.428463 39.920567|116.3994 39.9477|116.3844 39.9476|116.4131 39.8697|116.43 39.9031|116.4287 39.9143|116.428 39.9299|116.3619 39.9462|116.366127291 39.9433852293|116.3671736564 39.9245392245|116.3531360181 39.9224779566|116.3669678557 39.9287882243|116.3603759995 39.9225892538|116.3515949958 39.9222451512|116.3672003303 39.9238600887|116.3667120309 39.9340771123|116.3660803081 39.9454740698|116.3663392547 39.9406992444|116.3865449989 39.9474091485|116.3667100402 39.9340752276|116.366236961 39.9416310728|116.3669636058 39.9288920664|116.3609429912 39.922506722|116.3732999936 39.9473274321|116.3516 39.9222|116.3609 39.9225|116.3672 39.9239|116.367 39.9289|116.3667 39.9341|116.3662 39.9416|116.3661 39.9455|116.3733 39.9473|116.3865 39.9474|116.3661 39.9434|116.3663 39.9407|116.367 39.9288|116.3672 39.9245|116.3604 39.9226|116.3531 39.9225|116.3519 39.9058|116.3615 39.9058|116.3707 39.9058|116.372 39.9059|116.3583 39.906|116.3525 39.9059|116.41574 39.899183|116.414863 39.874219|116.412448 39.894729|116.412624 39.890286|116.4143680473 39.8838302795|116.4128031258 39.8905280803|116.4151133886 39.8742960299|116.4231880478 39.8992429512|116.4300427231 39.9030630396|116.4157452241 39.899072711|116.429953 39.902718|116.423517 39.899361|116.4126195146 39.8948981913|116.414009 39.884187|116.4151 39.8743|116.4144 39.8838|116.4128 39.8905|116.4126 39.8949|116.4157 39.8991|116.43 39.9027|116.4157 39.8992|116.4124 39.8947|116.4126 39.8903|116.414 39.8842|116.4149 39.8742|116.4232 39.8992|116.367829 39.910731|116.36804 39.904364|116.38208 39.884864|116.372873 39.888029|116.375861 39.888107|116.392687 39.882642|116.392656 39.883313|116.388747 39.884966|116.36745 39.917858|116.368416 39.893501|116.367078 39.926646|116.368399 39.889683|116.368411 39.895789|116.366777 39.932235|116.368211 39.894248|116.360903 39.939216|116.367175 39.924539|116.366933 39.929494|116.368178 39.889838|116.372834 39.887895|116.353943 39.939128|116.368043 39.8999|116.367904 39.903168|116.381405 39.884853|116.367378 39.919852|116.388394 39.884978|116.3785 39.887325|116.36758 39.91439|116.360798 39.939216|116.364552 39.939278|116.3677 39.90961|116.366631 39.93753|116.36745 39.917857|116.353587 39.93913|116.3675 39.9179|116.3676 39.9144|116.3679 39.9032|116.368 39.8999|116.3682 39.8942|116.3682 39.8898|116.3728 39.8879|116.3821 39.8849|116.3887 39.885|116.3927 39.8826|116.3927 39.8833|116.3884 39.885|116.3814 39.8849|116.3674 39.9199|116.3671 39.9266|116.3668 39.9322|116.3666 39.9375|116.3608 39.9392|116.3536 39.9391|116.3759 39.8881|116.3729 39.888|116.3684 39.8897|116.3684 39.8935|116.3684 39.8958|116.368 39.9044|116.3678 39.9107|116.3539 39.9391|116.3609 39.9392|116.3646 39.9393|116.3669 39.9295|116.3670797904 39.9266460707|116.3669310122 39.9295640763|116.4108876041 39.935180067|116.371818013 39.9314309517|116.4046209899 39.931963486|116.3838030291 39.9319175889|116.3515952176 39.9222451585|116.392046 39.9320147027|116.3672001416 39.9238630816|116.4121340704 39.9478157377|116.4108987528 39.9348590705|116.4104828785 39.9436210728|116.4104451856 39.9445870812|116.4083530067 39.9321628321|116.3807990822 39.9319314969|116.360376996 39.9225892662|116.3848001526 39.9321118979|116.398559 39.9321845043|116.3669352714 39.9294942303|116.3746629227 39.9317048283|116.3670797893 39.9266460963|116.4104108171 39.9456900743|116.4104166251 39.9453670687|116.4166280484 39.9479371373|116.4083540226 39.9320266994|116.3787510188 39.9317247448|116.3609469939 39.9225063684|116.4105473574 39.9414490833|116.3520719873 39.9224331835|116.3653109954 39.9226521|116.392909555 39.9321707534|116.396989 39.9320246262|116.3669 39.9296|116.3718 39.9314|116.3788 39.9317|116.3838 39.9319|116.392 39.932|116.397 39.932|116.4046 39.932|116.4084 39.932|116.4109 39.9352|116.4106 39.9408|116.4104 39.9446|116.4104 39.9454|116.4121 39.9478|116.3653 39.9227|116.4166 39.9479|116.3521 39.9224|116.4104 39.9457|116.4105 39.9436|116.4105 39.9414|116.4109 39.9349|116.4084 39.9322|116.4047 39.9321|116.3986 39.9322|116.3929 39.9322|116.3848 39.9321|116.3808 39.9319|116.3747 39.9317|116.4105575032 39.9408490689|116.4047170022 39.932112882|116.3590470333 39.8980655149|116.3692320117 39.8983757832|116.424829 39.9035601017|116.3791640306 39.8987205757|116.3878750348 39.8989743953|116.4039319881 39.8995423215|116.4034060059 39.8994149629|116.350409106 39.8972378813|116.3983140239 39.8992817693|116.4099549849 39.8997324105|116.3839539839 39.8988814093|116.4186120899 39.9033439269|116.4089110301 39.8995855831|116.3795319723 39.8988394286|116.3553520125 39.8981008186|116.3959790077 39.8992400432|116.3872200432 39.8989284278|116.3990549939 39.8994051599|116.3702810204 39.8985576803|116.358988987 39.8982232985|116.3837690401 39.8989766471|116.4239599987 39.9036840057|116.418122117 39.9032639391|116.3961759638 39.8991612531|116.3692 39.8984|116.3792 39.8987|116.384 39.8989|116.3872 39.8989|116.424 39.9037|116.4181 39.9033|116.41 39.8997|116.4039 39.8995|116.3991 39.8994|116.396 39.8992|116.3962 39.8992|116.3983 39.8993|116.4034 39.8994|116.4089 39.8996|116.4186 39.9033|116.4248 39.9036|116.3879 39.899|116.3838 39.899|116.3795 39.8988|116.3703 39.8986|116.359 39.8982|116.3554 39.8981|116.3504 39.8972|116.359 39.8981|116.4127332164 39.8874140848|116.412524182 39.8929170813|116.4124480619 39.8947280798|116.4120620598 39.9012210799|116.4116622392 39.9084020271|116.4116083691 39.9150510881|116.4114802046 39.9182430802|116.4113765502 39.9213840646|116.4067789984 39.9228861617|116.3987129761 39.9229243687|116.3891649846 39.9218883566|116.383607 39.9208621314|116.3722410902 39.921150338|116.3710146508 39.9246576416|116.3715580241 39.9263857829|116.4148623386 39.8742350916|116.4145755711 39.8805560662|116.4140884403 39.8840382187|116.373137 39.926418|116.37416 39.921796|116.3829092675 39.9210073476|116.3890411513 39.9218843224|116.3980990402 39.9228945849|116.406839992 39.923034734|116.411365384 39.9216611096|116.4114621561 39.9188721306|116.4116789901 39.9126091246|116.411971618 39.9061000624|116.4121772523 39.903053078|116.4126193465 39.8949021871|116.41271 39.892968|116.4128570505 39.88841008|116.414366 39.883825|116.4148547977 39.8803841053|116.4151133651 39.8742971098|116.357009863 39.9036810748|116.3569630464 39.911330076|116.3583000123 39.915852077|116.3561260053 39.9170719796|116.353738323 39.9164320817|116.3537990252 39.913861554|116.3539159358 39.9088068312|116.3537990028 39.9138620736|116.3507315483 39.9100530991|116.356963 39.9113290773|116.3561 39.9171|116.3583 39.9159|116.3507 39.9101|116.3538 39.9139|116.3537 39.9164|116.357 39.9113|116.3539 39.9088|116.357 39.9037|116.4175690004 39.9323624857|116.4247499998 39.932367809|116.4247009998 39.9322178831|116.4083580141 39.9320268415|116.4002116584 39.9313910717|116.4046199902 39.9319634713|116.4083490085 39.9321627667|116.4001159995 39.9302037628|116.4047220018 39.9321129163|116.4175690005 39.9322224772|116.4247 39.9324|116.4176 39.9324|116.4002 39.9314|116.4176 39.9322|116.4247 39.9322|116.4083 39.9322|116.4001 39.9302|116.4298808825 39.902273062|116.4199010079 39.9069368224|116.4142039956 39.9068267199|116.4053815903 39.9045051346|116.4053683849 39.9047247679|116.4153279898 39.9069802805|116.422693 39.907131138|116.4300558787 39.9030560625|116.392323 39.887763|116.388312 39.896371|116.395995 39.899242|116.392574 39.881323|116.391477 39.874693|116.388646 39.871087|116.391801 39.878239|116.410565 39.899751|116.398314 39.899282|116.394097 39.876222|116.394524 39.896692|116.42521 39.903557|116.396166 39.89916|116.408911 39.899586|116.403402 39.899415|116.39261 39.883851|116.394941 39.894838|116.39229 39.888474|116.393989 39.872465|116.388515 39.892242|116.398838 39.899396|116.403935 39.89954|116.394 39.8725|116.3941 39.8762|116.3926 39.8839|116.3923 39.8885|116.3885 39.8922|116.3923 39.8878|116.3926 39.8813|116.3918 39.8782|116.3915 39.8747|116.3886 39.8711|116.3949 39.8948|116.3945 39.8967|116.4252 39.9036|116.4106 39.8998|116.3988 39.8994|116.3883 39.8964|116.3923244246 39.8813149794|116.392026758 39.8877607162|116.3883970748 39.8922465513|116.3883672892 39.8963689482|116.3959814863 39.8992403655|116.3988380081 39.8993959412|116.4039348864 39.8995424054|116.410564601 39.8997488522|116.3886524302 39.8710859111|116.3914789495 39.8746515913|116.3918232749 39.8782603238|116.3940975555 39.8762220901|116.3939884932 39.8724651635|116.4252150029 39.903559839|116.4089112241 39.8995803785|116.4034021002 39.8994125547|116.3983138462 39.8992844992|116.3961660096 39.8991600317|116.3945235493 39.8966919758|116.3949356752 39.8948380272|116.3920188958 39.888472424|116.3927617015 39.8838530495|116.415748566 39.8991826572|116.4241608439 39.8993714887|116.4298809534 39.902272754|116.3928742053 39.8808190373|116.3886520113 39.8710858958|116.3939887578 39.8724661201|116.3761990469 39.8702377353|116.3564080704 39.8681904373|116.3914789273 39.8746520782|116.3887 39.8711|116.3762 39.8702|116.3564 39.8682|116.3440133567 39.8916195963|116.3556529947 39.8977781753|116.3556529886 39.8977781688|116.3504773383 39.8906942278|116.3505536226 39.893951728|116.3557 39.8978|116.3506 39.894|116.3505 39.8907|116.3497 39.8883|116.344 39.8916|116.3496684889 39.8882967806|116.349922 39.9244040763|116.3506113979 39.9154930852|116.3504916123 39.9188040767|116.3500971611 39.9243990811|116.3496520923 39.9347010755|116.3506 39.9155|116.3505 39.9188|116.3501 39.9244|116.3497 39.9347|116.3596 39.8981|116.3791 39.8987|116.421 39.9055|116.3955 39.8991|116.4235 39.907|116.4242 39.8994|116.4283 39.9206|116.3837 39.899|116.4106 39.8997|116.4279 39.9298|116.4286 39.9143|116.3994 39.9476|116.4274 39.9424|116.3557 39.8981|116.3883 39.8989|116.4275681815 39.9423410725|116.4280517845 39.9298560716|116.4287235575 39.9142570632|116.4234810138 39.9070057033|116.4209521435 39.905477081|116.3954820396 39.899077876|116.3872189297 39.8989285094|116.3839569797 39.8988814956|116.4089160192 39.8995857628|116.3595769844 39.8980824324|116.3557401164 39.8981145928|116.3702840669 39.898557773|116.3794639711 39.8988377923|116.3837111144 39.8989748619|116.3883178822 39.8989402454|116.3959860268 39.8992409558|116.403935885 39.8995424344|116.4105690957 39.8997489735|116.4241612284 39.8993714709|116.4299538183 39.902715057|116.4283088089 39.9205890687|116.4274108877 39.9424110256|116.4121388518 39.9478158869|116.3994057382 39.9476339365|116.428589356 39.9143312672|116.4166350374 39.9479373512|116.4284634967 39.9205680914|116.4034030105 39.8994148726|116.3791500005 39.8987200696|116.4278544165 39.9298481372|116.3692330108 39.8983758067|116.4052834248 39.886843902|116.4108486251 39.886669769|116.4049988185 39.8869390683|116.3896816547 39.8822529384|116.4000723995 39.8866707379|116.4282730895 39.879428929|116.3725359509 39.8820287284|116.4001162252 39.886765558|116.3833477801 39.8820553476|116.4172010242 39.8826485949|116.3576990842 39.8775786257|116.3576620668 39.8811643984|116.3825144523 39.8820371156|116.3579028756 39.8724210329|116.3670878788 39.8819086349|116.3575857749 39.8801807448|116.3617892686 39.8820220626|116.3727330552 39.8819016793|116.3580280724 39.872718422|116.3778301299 39.88202324|116.3797990544 39.8820157783|116.3926094031 39.8838577869|116.3924974023 39.8830566719|116.4137890575 39.8843346955|116.4096138783 39.8870052279|116.4241926182 39.8828565247|116.4143639238 39.8838385343|116.4283807273 39.8794678442|116.3693950956 39.881997161|116.3950443051 39.8856045944|116.4180081469 39.8825383224|116.358 39.8727|116.3578 39.878|116.3577 39.8812|116.3614 39.8819|116.3671 39.8819|116.3727 39.8819|116.3798 39.882|116.3825 39.882|116.3897 39.8823|116.395 39.8856|116.4001 39.8867|116.4053 39.8868|116.4108 39.8867|116.4138 39.8843|116.418 39.8825|116.423 39.8827|116.4283 39.8794|116.4284 39.8795|116.4242 39.8829|116.4172 39.8826|116.4096 39.887|116.405 39.8869|116.4001 39.8868|116.3925 39.8831|116.3833 39.8821|116.3778 39.882|116.3725 39.882|116.3694 39.882|116.3618 39.882|116.3576 39.8802|116.3577 39.8776|116.3579 39.8724|116.3613857678 39.8818857473|116.3578298793 39.8780212791|116.4230126608 39.882662864|116.3498676345 39.9327610645|116.3499 39.9328|116.3498418123 39.9332117127|116.3498 39.9332|116.4089116987 39.8995856043|116.3961674295 39.8991602056|116.3959947352 39.899242088|116.3884891754 39.8926975272|116.3917998906 39.8782369154|116.3949411723 39.8948392716|116.3939887074 39.8724659378|116.3940894836 39.8974205047|116.3922629715 39.8889600605|116.3921752857 39.8719709646|116.3882086377 39.895549863|116.3925773785 39.8813298217|116.4249513748 39.9036799548|116.4039326183 39.8995423397|116.4105656678 39.8997488758|116.4034020048 39.899414839|116.3927437446 39.8816238954|116.3914771069 39.8746921475|116.3988398607 39.8993956348|116.3983149186 39.8992818106|116.4248285944 39.9035601011|116.3923226185 39.8877641535|116.3882 39.8955|116.3885 39.8927|116.3927 39.8816|116.3923 39.889|116.3941 39.8974|116.425 39.9037|116.3922 39.872|116.3940973832 39.8762200297|116.4199014183 39.9069368299|116.4070565958 39.9066464697|116.4077570224 39.9068067372|116.4153279937 39.9069802806|116.4226929988 39.907131138|116.3762020144 39.8702379749|116.3668540052 39.869513039|116.3636580226 39.8692719129|116.3564070133 39.8681909597|116.3637 39.8693|116.3669 39.8695|116.3569629954 39.9113290975|116.3583000123 39.9158521477|116.3561261305 39.9170719836|116.3537383159 39.9164324409|116.3537990208 39.9138616309|116.3507316398 39.9100543101|116.3570098434 39.90368158|116.356962972 39.911328534|116.3561261263 39.9170719835|116.3537383159 39.916432364|116.3537989759 39.9138625509|116.3539159352 39.9088068269|116.393988859 39.8724665058|116.4070565901 39.9066464643|116.414204054 39.9068257733|116.4153277968 39.9069802748|116.4077572557 39.9068067446|116.4225260054 39.9069849672|116.3677 39.9472|116.3567 39.882|116.3515 39.882|116.3442 39.8779|116.3439 39.8815|116.3487 39.8819|116.3536 39.8819|116.3566 39.8819|116.3927 39.8829|116.3878 39.8794|116.3822 39.8793|116.3486 39.882|116.3475 39.8795|116.3459 39.8764|116.4145754631 39.8805580943|116.4241990202 39.8828568202|116.4060439133 39.8717644653|116.406143001 39.8717670577|116.3976890069 39.8715369054|116.4321220126 39.8828997478|116.4282771533 39.8794241558|116.3988833124 39.8715654352|116.4283768839 39.8794730282|116.4148533361 39.8803850399|116.4148622821 39.8742360897|116.4151133638 39.8742970853|116.3601429218 39.8682373802|116.4329779825 39.8830883962|116.4230129998 39.8826628664|116.3977 39.8715|116.4061 39.8718|116.3601 39.8682|116.4149 39.8804|116.4321 39.8829|116.433 39.8831|116.4146 39.8806|116.406 39.8718|116.3989 39.8716|116.3556632293 39.8686953554|116.3675886392 39.9141370799|116.366862979 39.8695136993|116.3508687752 39.8683434587|116.3680438735 39.8999077393|116.3475207995 39.8674753838|116.3681815657 39.8898418579|116.3670800725 39.9266394292|116.3682108056 39.8942479131|116.366236961 39.9416311477|116.3666193316 39.9378753847|116.3663399316 39.9406939421|116.3680930916 39.8804814264|116.3681187921 39.8827894816|116.3679466319 39.9021907877|116.3666307435 39.9375334863|116.3683750073 39.8834121589|116.3669637285 39.9288891453|116.3670797904 39.9266461468|116.3678332821 39.9107341633|116.3672003303 39.923860165|116.3680406825 39.9043661482|116.3661069651 39.9448092214|116.3684166131 39.8935041703|116.3682410374 39.8998031577|116.3684012523 39.889683158|116.3683332123 39.8787311597|116.3669353465 39.9294928539|116.3674486293 39.9178608939|116.3660803081 39.9454741444|116.3674908525 39.9167841506|116.3681143276 39.8726372696|116.3677455911 39.9079509049|116.3671873931 39.9240692615|116.3667101683 39.9340721075|116.3636174551 39.8692686589|116.3667120592 39.9340762607|116.3666 39.9379|116.3672 39.9241|116.3674 39.9179|116.3676 39.9141|116.3677 39.908|116.3679 39.9022|116.3684 39.8726|116.3683 39.8787|116.3684 39.8834|116.3682 39.8998|116.3681 39.8828|116.3681 39.8805|116.3681 39.8726|116.3636 39.8693|116.3557 39.8687|116.3509 39.8683|116.3475 39.8675|116.3675 39.9168|116.3661 39.9448|116.3683641723 39.8726471606|116.402456 39.938267|116.405305 39.908586|116.402198 39.945207|116.406507 39.914151|116.402298 39.942972|116.402592 39.934808|116.407914 39.906812|116.411972 39.906096|116.402833 39.929618|116.4026062946 39.9311980841|116.4185789581 39.9033322317|116.402170517 39.9424760617|116.4028269322 39.9261390746|116.4024430798 39.9345980771|116.406246882 39.914100068|116.4020554431 39.9450655232|116.402966 39.926365|116.404666 39.92414|116.404859 39.918514|116.4066264025 39.9066338052|116.404556 39.9235130764|116.4023273252 39.9374080833|116.414229 39.900372|116.417361 39.902733|116.4119481241 39.9040582573|116.4047818013 39.9180150731|116.4028 39.9296|116.4026 39.9348|116.4021 39.9451|116.4022 39.9425|116.4023 39.9374|116.4024 39.9346|116.4026 39.9312|116.4028 39.9261|116.4174 39.9027|116.4142 39.9004|116.412 39.9061|116.4079 39.9068|116.4025 39.9383|116.4023 39.943|116.4022 39.9452|116.4046 39.9235|116.4048 39.918|116.4062 39.9141|116.4066 39.9066|116.4119 39.9041|116.4053 39.9086|116.4065 39.9142|116.4049 39.9185|116.4047 39.9241|116.403 39.9264|116.3500961058 39.9244200197|116.3550479834 39.876765469|116.3526207446 39.8865890377|116.3496700556 39.8882967497|116.3530770784 39.8774090822|116.3440091381 39.8916769551|116.3527781821 39.8839220864|116.3578060077 39.8750400802|116.3527895476 39.8837461772|116.3580282861 39.8727111183|116.3579034483 39.8724130995|116.3530346149 39.8785350636|116.3496690043 39.8879378017|116.3497 39.8879|116.3528 39.8839|116.353 39.8785|116.3578 39.875|116.355 39.8768|116.3531 39.8774|116.3528 39.8837|116.3526 39.8866|116.344 39.8917|116.4053816096 39.9045047343|116.4117867522 39.9060910208|116.3886530091 39.8710859322|116.3939898596 39.8724701034|116.375992012 39.8879877233|116.3874828842 39.8887493768|116.3575404123 39.8833770795|116.3813480191 39.8881377661|116.372583991 39.8880279327|116.3758607423 39.8881138897|116.3576990143 39.8775820921|116.3656010187 39.8879901835|116.3575855138 39.8801839599|116.3573499723 39.8865300793|116.3573905326 39.8829930982|116.3813421177 39.888260834|116.3579135812 39.8722150997|116.3578298892 39.8780210773|116.3574697238 39.8869600786|116.3949411723 39.8948340786|116.3580281471 39.8727160828|116.3639909975 39.8878502272|116.3882084102 39.8955506578|116.3728339994 39.8878945355|116.3888315715 39.8897691734|116.3945227624 39.8966940243|116.3576624665 39.8811611127|116.3575 39.8834|116.3575 39.887|116.364 39.8879|116.3726 39.888|116.3656 39.888|116.3573 39.8865|116.3574 39.883|116.3579 39.8722|116.376 39.888|116.3813 39.8881|116.3875 39.8887|116.3882 39.8956|116.3888 39.8898|116.3813 39.8883|116.3884891955 39.8926972855|116.4175740004 39.9323624826|116.4088950478 39.9321785896|116.3986019996 39.9321845043|116.3929100039 39.9321707566|116.3847980187 39.9321118092|116.3807989719 39.9319314925|116.3746610372 39.9317047136|116.3669352194 39.9294950838|116.3653110001 39.9226521|116.3603769999 39.9225920839|116.353126034 39.922477564|116.3527920255 39.9223047907|116.3669637694 39.9288880703|116.3749069723 39.9315983622|116.3787470264 39.9317246106|116.3837999758 39.9319174807|116.4083449819 39.9320263776|116.4175820004 39.9322224685|116.4246879999 39.9322178893|116.3749 39.9316|116.4089 39.9322|116.3787 39.9317|116.3528 39.9223|116.3511145712 39.8881618959|116.3675797459 39.914392753|116.3568331153 39.8879316711|116.3539600773 39.8879609148|116.3684102523 39.8957920785|116.368416669 39.8935050897|116.4262590014 39.9229776381|116.4067829648 39.9228853327|116.3732900662 39.9211764186|116.383611 39.9208621314|116.3893931257 39.9218957891|116.3677000446 39.9096094008|116.3562918624 39.8880724397|116.4126914538 39.9230707293|116.4262500065 39.9231447521|116.3688320011 39.9211330531|116.3679074372 39.9031909849|116.3829069085 39.921007642|116.3674486221 39.9178610656|116.406839968 39.9230368367|116.3682108123 39.8942800787|116.3987162087 39.9229245255|116.3681815696 39.8898390938|116.3674485734 39.9178620343|116.3732960041 39.9212929901|116.3632279896 39.8878435979|116.3684012523 39.889687079|116.389039791 39.9218842781|116.4181660183 39.9230927797|116.4128410339 39.9229105084|116.3641230361 39.8879901052|116.3699710421 39.9211511644|116.3680399654 39.8999717087|116.354 39.888|116.3568 39.8879|116.3632 39.8878|116.37 39.9212|116.3733 39.9212|116.3836 39.9209|116.3894 39.9219|116.3987 39.9229|116.4068 39.9229|116.4263 39.923|116.4263 39.9231|116.4182 39.9231|116.4127 39.9231|116.4068 39.923|116.3985 39.9229|116.389 39.9219|116.3829 39.921|116.3733 39.9213|116.3688 39.9211|116.3682 39.8943|116.3641 39.888|116.3563 39.8881|116.3511 39.8882|116.4128 39.9229|116.4183 39.9229|116.3985369925 39.9229158312|116.4183280628 39.922944911|116.3678334288 39.9107312114|116.3680407621 39.9043640961|116.4129 39.8884|116.4127 39.893|116.4122 39.9031|116.4117 39.9126|116.4115 39.9189|116.4114 39.9217|116.3981 39.9229|116.3697 39.9227|116.3722 39.9212|116.3892 39.9219|116.4114 39.9214|116.4115 39.9182|116.4116 39.9151|116.4117 39.9084|116.4125 39.8929|116.4127 39.8874|116.4141 39.884|116.4121 39.9012|116.3504916123 39.9190650767|116.3500003458 39.9294924937|116.3500971843 39.9243986196|116.3506115092 39.915490096|116.3499220377 39.924403077|116.3505 39.9191|116.35 39.9295|116.3817 39.8725|116.3815 39.873|116.3732859902 39.9211763222|116.410415025 39.899624534|116.4186126123 39.9033441113|116.3609427444 39.92250672|116.406242906 39.9141000401|116.4051892084 39.9084501406|116.4048646364 39.9183930673|116.4053045269 39.9085911742|116.40713 39.8996450782|116.3686939745 39.9227312476|116.398538016 39.9229158809|116.4047816337 39.9180204054|116.4065070496 39.9141608855|116.383941 39.9209820597|116.3889 39.9219|116.3987120341 39.922924323|116.3890399886 39.9218842845|116.3697174391 39.9227001694|116.4147017579 39.9006712647|116.4071339896 39.8995372614|116.3609430048 39.922596728|116.3531260391 39.9224775643|116.4147 39.9007|116.4071 39.8996|116.4049 39.9184|116.4036 39.923|116.3839 39.921|116.3687 39.9227|116.3609 39.9226|116.4029 39.9229|116.4052 39.9085|116.4071 39.8995|116.4104 39.8996|116.4035820075 39.9230166429|116.38939476 39.9218958423|116.4029460061 39.9229175325|116.4062430004 39.9141000408|116.4047803053 39.9180620942|116.4051892106 39.9084500824|116.3609430049 39.9225067221|116.3877515645 39.879498552|116.3511145605 39.888161892|116.3878 39.8795|116.3539599932 39.8879609169|116.3877515707 39.8794985579|116.4280518516 39.9298542246|116.4284632954 39.9205722386|116.4287235575 39.9142572174|116.4131180469 39.8696927721|116.42298202 39.9481506346|116.424135029 39.9481958391|116.4275683959 39.9423512195|116.4300561803 39.9030546566|116.3499220923 39.9244012289|116.4241 39.9482|116.423 39.9482|116.4181659998 39.9230927797|116.4000145939 39.9245660627|116.4067789966 39.922885296|116.4068359688 39.9230367936|116.4003737287 39.9274670682|116.426254035 39.9231424029|116.4183239972 39.9229449935|116.4126920065 39.9230707355|116.4262589996 39.9229776381|116.400527544 39.9238770666|116.3997869431 39.9280280736|116.4128410075 39.9229105082|116.4005 39.9239|116.4004 39.9275|116.3998 39.928|116.4 39.9246|116.3794590108 39.898837791|116.3692290145 39.8983757126|116.3791549896 39.8987202496|116.388318022 39.8989402337|116.3926868777 39.8977102721|116.3590618918 39.8980683743|116.3557379675 39.8981144929|116.3712478184 39.898590267|116.3591 39.8981|116.3712 39.8986|116.3927 39.8977|116.4143 39.884|116.4148 39.8745|116.3901 39.8981|116.3903 39.8979|116.4124480294 39.8947290792|116.4238649726 39.8960985025|116.4319590209 39.896409829|116.4126242126 39.8902812677|116.4128030718 39.8905310797|116.4128572065 39.8884050829|116.4151132948 39.8743000286|116.4126197246 39.8948931965|116.4157542428 39.8990725982|116.4144222748 39.8837189749|116.414850239 39.8744490853|116.4098300779 39.8718486739|116.4108927685 39.8718776942|116.4285059632 39.8963082765|116.4140091155 39.884187116|116.4127333039 39.8874120871|116.4158 39.8991|116.432 39.8964|116.4285 39.8963|116.4239 39.8961|116.4142 39.8958|116.4149 39.8744|116.4109 39.8719|116.4098 39.8718|116.4144 39.8837|116.4231880054 39.8992429501|116.414178999 39.8958475163|116.4157529902 39.8990726139|116.411822 39.908635|116.410354 39.917382|116.406028 39.917222|116.398107 39.922895|116.3645570021 39.9392779002|116.3932819774 39.9261150756|116.3934043925 39.9232731718|116.4063180718 39.9172320379|116.3667575628 39.9326201288|116.403583 39.923013|116.3787468566 39.9317246049|116.4101988914 39.9173792793|116.374904583 39.9315982209|116.3609160312 39.939214235|116.3987172048 39.9229245739|116.3539380173 39.9391276663|116.411674 39.912606|116.4029409953 39.9229174994|116.4116684683 39.9131830941|116.412397 39.89908|116.390152 39.930611|116.366777 39.932234|116.384788 39.932108|116.393276 39.926251|116.366631 39.937526|116.360802 39.939216|116.393401 39.923276|116.380802 39.931926|116.374657 39.931702|116.3838026712 39.9319175762|116.4116641034 39.9084021635|116.4120417659 39.9017281405|116.3668 39.9326|116.3901 39.9308|116.3933 39.9261|116.3934 39.9233|116.4063 39.9172|116.4102 39.9174|116.4117 39.9132|116.412 39.9017|116.4124 39.8991|116.4118 39.9086|116.4104 39.9174|116.406 39.9172|116.3933 39.9263|116.3902 39.9306|116.3901476547 39.9308441655|116.355351122 39.8981007898|116.3853869252 39.8987389682|116.385386892 39.8987389626|116.359576928 39.8980824309|116.3854 39.8987|116.3507316456 39.9100543819|116.3569629954 39.9113291748|116.3583000123 39.9158522247|116.3561261347 39.9170719838|116.3537383159 39.9164325178|116.3537990118 39.913861707|116.3569630202 39.9113295326|116.3583000075 39.9158520708|116.3570098821 39.9036805809|116.347902 39.870139|116.345951 39.868053|116.34684 39.894265|116.347006 39.889849|116.347524 39.87935|116.347906 39.870049|116.347014 39.889645|116.346921 39.891623|116.347179 39.886092|116.346838 39.894353|116.345842 39.868018|116.347188 39.885949|116.347293 39.883858|116.347644 39.875162|116.346906 39.891864|116.347318 39.883324|116.347527 39.879262|116.346 39.8681|116.3479 39.8701|116.3476 39.8758|116.3475 39.8794|116.3473 39.8839|116.3472 39.8859|116.347 39.8898|116.3469 39.8919|116.3468 39.8943|116.3468 39.8944|116.3469 39.8916|116.347 39.8896|116.3472 39.8861|116.3473 39.8833|116.3475 39.8793|116.3476 39.8752|116.3458 39.868|116.347602 39.875829|116.3468413412 39.8942612886|116.3469084258 39.891863796|116.3470068175 39.8898493863|116.3471917649 39.8859557163|116.3472904664 39.8838583703|116.347521957 39.8793504383|116.3476033142 39.8758291581|116.3478995518 39.8701388261|116.3459499364 39.8680551726|116.3458425561 39.8680170918|116.3479041444 39.8700490242|116.3476457349 39.8751621405|116.3475245044 39.8792620371|116.3473206039 39.8833241523|116.3471818444 39.886092202|116.3470150698 39.8896451047|116.3469233486 39.8916231329|116.3468389062 39.8943530929|116.4223 39.9071|116.3957 39.9065|116.3898 39.9012|116.3923 39.8884|116.4021 39.8716|116.3935 39.9001|116.3952 39.9063|116.4071 39.9066|116.4057 39.8718|116.3929 39.8808|116.3927 39.8839|116.392 39.889|116.3884429184 39.8926935409|116.3898091999 39.901171083|116.3956876074 39.9064905588|116.4222700109 39.9071247152|116.3920199522 39.8883697357|116.3926704182 39.8838612459|116.3940972305 39.8762250759|116.3920143723 39.8889600791|116.4070560096 39.9066458747|116.3921749154 39.8719716522|116.3922446536 39.8830520692|116.3945258295 39.8966860396|116.4234814606 39.9070057131|116.3952380017 39.9063280438|116.3934885691 39.9001310601|116.3949411723 39.8948370786|116.3928742463 39.8808176338|116.3939888718 39.8724665321|116.3924 39.88|116.3923 39.872|116.392 39.8884|116.3922 39.883|116.391826 39.8782630799|116.4077572474 39.9068067444|116.4046211258 39.931963488|116.3837991277 39.9319174506|116.4246882161 39.9322178892|116.3749131133 39.9315987144|116.3680445387 39.9312689577|116.378746779 39.9317246023|116.3521922347 39.9309825716|116.4175649318 39.9323624883|116.424754008 39.9323678068|116.3929098428 39.932171494|116.3985592757 39.9321845043|116.4047220934 39.9321129169|116.3656841582 39.9313075053|116.4083537388 39.9320266893|116.4175800502 39.9322224698|116.3560519899 39.9311189448|116.3598986586 39.9311290687|116.3746455177 39.9317037694|116.3808041248 39.9319316986|116.3847875262 39.9321113734|116.4083494444 39.9321627738|116.396984609 39.9320246262|116.3920500731 39.9320147027|116.3599340779 39.9309948288|116.3564161168 39.9309834214|116.3522 39.931|116.3564 39.931|116.3599 39.931|116.368 39.9313|116.3921 39.932|116.4248 39.9324|116.3746 39.9317|116.3657 39.9313|116.3599 39.9311|116.3561 39.9311|116.4089240192 39.9067025497|116.4070554474 39.9066458589|116.3708461301 39.9057674259|116.361438 39.90579248|116.3518100287 39.9057786914|116.409463959 39.939460243|116.4185259968 39.9395712875|116.4042969884 39.9394137754|116.4250440322 39.9396252853|116.4043319195 39.9395441809|116.3847967526 39.9321117567|116.4000860233 39.9394817236|116.4088010203 39.9395771555|116.3685595817 39.9314285803|116.3941419571 39.9394448872|116.3900190205 39.9336041805|116.4164639349 39.9396647408|116.394789 39.9394498812|116.3898176016 39.9381452593|116.3746527962 39.9317042122|116.359898641 39.9311290647|116.3749085764 39.9315984542|116.3522009833 39.9309827086|116.3599341061 39.9309948258|116.3900132478 39.9338251103|116.3787548414 39.9317248732|116.3564119963 39.9309834269|116.368036705 39.9312686562|116.3898423977 39.9375301027|116.3838087182 39.9319177904|116.424794003 39.9397348697|116.3560518552 39.9311189438|116.3997238716 39.939480086|116.39 39.9338|116.3898 39.9375|116.3948 39.9394|116.3997 39.9395|116.4043 39.9394|116.4095 39.9395|116.4185 39.9396|116.425 39.9396|116.4248 39.9397|116.4165 39.9397|116.4088 39.9396|116.4043 39.9395|116.4001 39.9395|116.3941 39.9394|116.3898 39.9381|116.39 39.9336|116.3686 39.9314|116.3807986456 39.9319314795|116.3959838692 39.8992406753|116.4283097132 39.9205760648|116.4278543462 39.9298511363|116.4285895559 39.914327303|116.4299532462 39.9027179908|116.403930892 39.8995422897|116.4235260621 39.8993615973|116.4142400714 39.9479961386|116.4229858765 39.9481507122|116.3705710048 39.9474159758|116.379458976 39.8988376725|116.3505856472 39.9027020305|116.3844440015 39.9475150419|116.3608894577 39.9456614307|116.3500960555 39.9244210182|116.3710381252 39.8985805767|116.3553514993 39.8981008036|116.4241329492 39.9481957459|116.3505485866 39.9097112321|116.4274110028 39.9424150236|116.4099620217 39.8997326003|116.4279 39.9299|116.3609 39.9457|116.3706 39.9474|116.3844 39.9475|116.4142 39.948|116.371 39.8986|116.3506 39.9027|116.3505 39.9097|116.353798983 39.913862553|116.3507316398 39.9100543108|116.3539132493 39.9088067715|116.4330554253 39.8949041077|116.4327709822 39.880024473|116.42432201 39.8923117352|116.4333895406 39.8731991261|116.4157549897 39.8990725889|116.4317649615 39.8760113512|116.4334899723 39.8734150803|116.4342674513 39.8821030919|116.4315168869 39.8763620076|116.4340864312 39.8856990929|116.4340679147 39.8860000767|116.4125414449 39.8965420884|116.4276620471 39.8923571278|116.4341602923 39.8842990794|116.4338353996 39.889903101|116.4210833484 39.8983420847|116.4313249997 39.8923968385';
	var cirs = str.split('|');
	var length = cirs.length;
	for(var i = 0;i<length;i++){
		if(i)oText.value += ';';
		var arr = cirs[i].split(' ');
		var x = Number(arr[0]) - 100;
		var y = Number(arr[1]) - 30;
		var r = 5;
		oText.value += '{x:'+x+',y:'+y+',r:'+r+'}';
	}
	*/
	//点击事件
	oBtn.onclick = function(){
		
		oCircles.innerHTML = '';
		//获取所有的点
		var value = oText.value;
		var value2 = value.replace(/[\r\n\s]/g,'');
		var circles = value2.split(';');
		var circlesLength = circles.length;
		var circles2=[];
		for(var i=0;i<circlesLength;i++){
			circles2.push(circle(parse(circles[i])));
		}
		draw(circles2);
		oResult.innerHTML = circleAreaAnd(circles2,function(squire){
			squire.drawIn(oCircles);
		});
	};
	
	function draw(circles){
		var length = circles.length;
		for(var i = 0;i<length;i++){
			circles[i].drawIn(oCircles);
		}
		
	}
	
	function parse(str){
		var newStr = str.replace(/[{}\s]/g,'');
		var arr = newStr.split(',');
		var json={};
		var length = arr.length;
		for(var i=0;i<length;i++){
			var arr2 = arr[i].split(':');
			json[arr2[0]] = arr2[1];
		}
		return json;
	}

});
	
</script>