<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
</html>
<script>
function convertImgToBase64(url, callback, outputFormat){
    var canvas = document.createElement('CANVAS'),
　　ctx = canvas.getContext('2d'),
　　img = new Image();
　　//img.crossOrigin = 'Anonymous';
　　img.onload = function(){
    　　var width = canvas.height = img.height;
    　　var height = canvas.width = img.width;
        console.log(width + ' * ' + height)
    　　ctx.drawImage(img,0,0,width,height,0,0,width,height);
    　　var dataURL = canvas.toDataURL('image/jpeg',0.5);
    　　callback.call(this, dataURL);
    　　canvas = null; 
    };
　　img.src = './test.png';
}    
convertImgToBase64('./test.png',function(base64Data){
    console.log(base64Data)
})
</script>
